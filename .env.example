# =============================================================================
# API Scanner Configuration
# Copy this file to .env and update the values before running docker compose up
# =============================================================================

# --- MariaDB ---
MARIADB_ROOT_PASSWORD=change_me_root_password
MARIADB_USER=api_scanner
MARIADB_PASSWORD=change_me_db_password
MARIADB_DATABASE=api_db

# --- MongoDB ---
MONGO_ROOT_USERNAME=root
MONGO_ROOT_PASSWORD=change_me_mongo_root_password
MONGO_DATABASE=apiscan_db
MONGO_APP_USERNAME=apiscan_user
MONGO_APP_PASSWORD=change_me_mongo_app_password

# --- API Scanner ---
SERVER_ADDRESS=0.0.0.0:443
USE_TLS=true
CERT_PATH=/app/certs/cert.pem
KEY_PATH=/app/certs/key.pem
CSRF_KEY=change_me_csrf_key_32_chars_long!
CSRF_NAME=csrf_token
ALLOWED_INTERNAL_HOSTS=localhost,127.0.0.1,api-scanner
TRUSTED_ORIGINS=https://localhost:4455

DBMS_TYPE=mysql
# Note: 'mariadb' here refers to the docker-compose service name
DATABASE_URI=api_scanner:change_me_db_password@tcp(mariadb:3306)/api_db?parseTime=True
MIGRATIONS_PREFIX=/app/db/migrations

PRODUCT_TITLE=API Scanner
COPYRIGHT_FOOTER_COMPANY=CySecurity Pte Ltd
CONTACT_ADDRESS=support@localhost

# Note: 'mongodb' here refers to the docker-compose service name
MONGO_DATABASE_URI=mongodb://apiscan_user:change_me_mongo_app_password@mongodb:27017/apiscan_db?authMechanism=SCRAM-SHA-256
MONGO_DATABASE_NAME=apiscan_db

WORK_DIR=/app/data/work_dir
TEMP_UPLOADS_DIR=/app/data/temp_uploads

LOG_LEVEL=info
LOG_FILENAME=/app/logs/app.log

# Required by manager config but unused in Docker mode
SCANNER_DOCKER=unused
FUZZER_IMAGE=unused
MAIN_DOMAIN=localhost

# Required by panel config but unused in community edition
LICENSE_VALIDATION_API=http://localhost

# Note: 'zap' here refers to the docker-compose service name
ZAP_HOST=zap
ZAP_PORT=8080
ZAP_API_KEY=change_me_zap_api_key

REMOTE_WORK_DIR=/app/data/work_dir/
LOCAL_TEMP_DIR=/app/data/temp/

CATS_BIN_PATH=/app/bin/cats
REPORTER_BIN_PATH=/app/bin/reporter
SCANNER_CMD=/app/bin/scanner

# --- Timezone ---
TZ=UTC
